<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Chat</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/antd@5.10.3/dist/antd.min.css">
  <script src="https://cdn.jsdelivr.net/npm/antd@5.10.3/dist/antd.min.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#1677ff',
            secondary: '#0a1629',
            neutral: {
              100: '#f5f7fa',
              200: '#e4e6eb',
              300: '#d0d3d9',
              400: '#a9adb8',
              500: '#868c9c',
              600: '#636a7c',
              700: '#4e5360',
              800: '#3a3d46',
              900: '#212329',
            }
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
      .message-appear {
        animation: fadeIn 0.3s ease-in-out;
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .typing-indicator {
        display: inline-flex;
        align-items: center;
      }
      .typing-indicator span {
        height: 6px;
        width: 6px;
        margin: 0 1px;
        background-color: #1677ff;
        border-radius: 50%;
        display: inline-block;
        animation: typing-bounce 1.4s infinite ease-in-out both;
      }
      .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
      .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
      @keyframes typing-bounce {
        0%, 80%, 100% { transform: scale(0); }
        40% { transform: scale(1); }
      }
    }
  </style>
</head>
<body class="font-inter bg-neutral-100 text-neutral-800 h-screen flex flex-col overflow-hidden">
  <div class="flex h-screen overflow-hidden">
    <!-- Sidebar Navigation -->
    <div class="w-64 bg-secondary text-white h-full flex flex-col border-r border-neutral-800 shadow-lg z-10 transition-all duration-300 ease-in-out" id="sidebar">
      <!-- Logo Area -->
      <div class="p-4 border-b border-neutral-800 flex items-center justify-between">
        <div class="flex items-center space-x-2">
          <div class="bg-primary rounded-md p-2">
            <i class="fa-solid fa-robot text-xl"></i>
          </div>
          <h1 class="text-xl font-bold">AI Chat</h1>
        </div>
        <button id="toggleSidebar" class="lg:hidden p-2 rounded-md hover:bg-neutral-800 transition-colors">
          <i class="fa-solid fa-bars"></i>
        </button>
      </div>
      
      <!-- Menu List -->
      <div class="flex-1 overflow-y-auto scrollbar-hide p-2">
        <ul class="space-y-1">
          <li>
            <a href="#chat" class="flex items-center space-x-3 px-4 py-3 rounded-md bg-primary/20 text-primary hover:bg-primary/30 transition-colors">
              <i class="fa-solid fa-comments"></i>
              <span>Chat</span>
            </a>
          </li>
          <li>
            <a href="#prompts" class="flex items-center space-x-3 px-4 py-3 rounded-md hover:bg-neutral-800 transition-colors">
              <i class="fa-solid fa-lightbulb"></i>
              <span>Prompts</span>
            </a>
          </li>
          <li>
            <a href="#history" class="flex items-center space-x-3 px-4 py-3 rounded-md hover:bg-neutral-800 transition-colors">
              <i class="fa-solid fa-history"></i>
              <span>History</span>
            </a>
          </li>
          <li>
            <a href="#spring-ai" class="flex items-center space-x-3 px-4 py-3 rounded-md hover:bg-neutral-800 transition-colors">
              <i class="fa-solid fa-cogs"></i>
              <span>Spring AI</span>
            </a>
          </li>
          <li>
            <a href="#settings" class="flex items-center space-x-3 px-4 py-3 rounded-md hover:bg-neutral-800 transition-colors">
              <i class="fa-solid fa-cog"></i>
              <span>Settings</span>
            </a>
          </li>
        </ul>
      </div>
      
      <!-- User Area -->
      <div class="p-4 border-t border-neutral-800">
        <div class="flex items-center space-x-3">
          <img src="https://picsum.photos/id/237/40/40" alt="User Avatar" class="w-8 h-8 rounded-full object-cover border-2 border-primary">
          <div>
            <p class="text-sm font-medium">User Name</p>
            <p class="text-xs text-neutral-400">Free Plan</p>
          </div>
          <button class="ml-auto p-2 rounded-full hover:bg-neutral-800 transition-colors">
            <i class="fa-solid fa-sign-out"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Main Content Area -->
    <div class="flex-1 flex flex-col overflow-hidden" id="mainContent">
      <!-- Top Navigation Bar -->
      <div class="bg-white border-b border-neutral-200 shadow-sm py-3 px-6 flex items-center justify-between">
        <h2 class="text-lg font-semibold" id="pageTitle">Chat</h2>
        <div class="flex items-center space-x-3">
          <button class="p-2 rounded-full hover:bg-neutral-200 transition-colors relative">
            <i class="fa-solid fa-bell"></i>
            <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
          </button>
          <button class="p-2 rounded-full hover:bg-neutral-200 transition-colors">
            <i class="fa-solid fa-question-circle"></i>
          </button>
        </div>
      </div>
      
      <!-- Content Views Container -->
      <div class="flex-1 overflow-hidden">
        <!-- Chat View -->
        <div id="chatView" class="h-full flex flex-col">
          <div class="flex-1 overflow-y-auto p-4 bg-neutral-100" id="chatContainer">
            <!-- Chat Messages -->
            <div class="max-w-3xl mx-auto space-y-6">
              <!-- Welcome Message -->
              <div class="bg-white rounded-lg shadow-md p-4 message-appear">
                <div class="flex items-start space-x-3">
                  <div class="bg-primary/10 rounded-full p-2">
                    <i class="fa-solid fa-robot text-primary"></i>
                  </div>
                  <div>
                    <p class="text-neutral-800 leading-relaxed">
                      Hello! I'm your AI assistant. How can I help you today?
                    </p>
                    <div class="text-xs text-neutral-500 mt-2">Today 10:00</div>
                  </div>
                </div>
              </div>
              
              <!-- User Message -->
              <div class="flex justify-end message-appear" style="animation-delay: 0.1s">
                <div class="bg-primary text-white rounded-lg shadow-md p-4 max-w-[80%] relative group">
                  <p class="leading-relaxed">
                    Can you introduce artificial intelligence to me?
                  </p>
                  <div class="text-xs text-white/70 mt-2 text-right">Today 10:01</div>
                  <button class="absolute -left-8 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity p-1 bg-white rounded-full shadow-md text-neutral-500 hover:text-red-500 delete-message-btn" data-id="msg-1">
                    <i class="fa-solid fa-trash"></i>
                  </button>
                </div>
              </div>
              
              <!-- AI Response -->
              <div class="bg-white rounded-lg shadow-md p-4 message-appear" style="animation-delay: 0.2s relative group">
                <div class="flex items-start space-x-3">
                  <div class="bg-primary/10 rounded-full p-2">
                    <i class="fa-solid fa-robot text-primary"></i>
                  </div>
                  <div>
                    <p class="text-neutral-800 leading-relaxed">
                      Artificial Intelligence (AI) refers to computer systems that can perform tasks requiring human intelligence, such as learning, reasoning, problem-solving, understanding natural language, and recognizing patterns. AI technologies include machine learning, deep learning, natural language processing, computer vision, and more.
                    </p>
                    <div class="text-xs text-neutral-500 mt-2">Today 10:02</div>
                  </div>
                </div>
                <button class="absolute -right-8 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity p-1 bg-white rounded-full shadow-md text-neutral-500 hover:text-red-500 delete-message-btn" data-id="msg-2">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </div>
              
              <!-- User Message 2 -->
              <div class="flex justify-end message-appear" style="animation-delay: 0.3s">
                <div class="bg-primary text-white rounded-lg shadow-md p-4 max-w-[80%] relative group">
                  <p class="leading-relaxed">
                    How does Spring AI framework work?
                  </p>
                  <div class="text-xs text-white/70 mt-2 text-right">Today 10:03</div>
                  <button class="absolute -left-8 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity p-1 bg-white rounded-full shadow-md text-neutral-500 hover:text-red-500 delete-message-btn" data-id="msg-3">
                    <i class="fa-solid fa-trash"></i>
                  </button>
                </div>
              </div>
              
              <!-- AI Response 2 -->
              <div class="bg-white rounded-lg shadow-md p-4 message-appear" style="animation-delay: 0.4s relative group">
                <div class="flex items-start space-x-3">
                  <div class="bg-primary/10 rounded-full p-2">
                    <i class="fa-solid fa-robot text-primary"></i>
                  </div>
                  <div>
                    <p class="text-neutral-800 leading-relaxed">
                      The Spring AI framework provides integration with AI services and models, making it easier to build AI-powered applications. It offers support for popular AI providers, natural language processing, and machine learning capabilities within the Spring ecosystem.
                    </p>
                    <div class="text-xs text-neutral-500 mt-2">Today 10:04</div>
                  </div>
                </div>
                <button class="absolute -right-8 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity p-1 bg-white rounded-full shadow-md text-neutral-500 hover:text-red-500 delete-message-btn" data-id="msg-4">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </div>
            </div>
          </div>
          
          <!-- Message Input Area -->
          <div class="bg-white border-t border-neutral-200 p-4">
            <div class="max-w-3xl mx-auto">
              <div class="relative">
                <textarea id="messageInput" rows="3" placeholder="Type your message..." class="w-full px-4 py-3 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary resize-none transition-all"></textarea>
                <div class="absolute right-3 bottom-3 flex items-center space-x-2">
                  <button id="clearHistory" class="p-2 text-neutral-500 hover:text-neutral-700 hover:bg-neutral-200 rounded-full transition-colors">
                    <i class="fa-solid fa-trash"></i>
                  </button>
                  <button id="sendMessage" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors flex items-center space-x-1 shadow-md hover:shadow-lg">
                    <span>Send</span>
                    <i class="fa-solid fa-paper-plane"></i>
                  </button>
                </div>
              </div>
              <div class="text-xs text-neutral-500 mt-2 text-center">
                Tip: Press Enter to send, Shift+Enter for a new line
              </div>
            </div>
          </div>
        </div>
        
        <!-- Prompts Management View -->
        <div id="promptsView" class="h-full flex flex-col hidden">
          <div class="p-6 bg-white border-b border-neutral-200">
            <div class="flex justify-between items-center mb-4">
              <h3 class="text-xl font-bold">GenAI Prompts</h3>
              <button id="addPromptBtn" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors flex items-center space-x-1 shadow-md hover:shadow-lg">
                <i class="fa-solid fa-plus"></i>
                <span>New Prompt</span>
              </button>
            </div>
            
            <!-- Search Bar -->
            <div class="relative max-w-2xl">
              <input type="text" placeholder="Search prompts..." class="w-full pl-10 pr-4 py-2 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary">
              <i class="fa-solid fa-search absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400"></i>
            </div>
          </div>
          
          <!-- Prompts List -->
          <div class="flex-1 overflow-y-auto p-4 bg-neutral-100">
            <div class="max-w-3xl mx-auto space-y-4">
              <!-- Prompt Item 1 -->
              <div class="bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow relative group">
                <div class="flex justify-between items-start mb-2">
                  <h4 class="font-semibold text-lg">Summarize Article</h4>
                  <div class="flex space-x-1">
                    <button class="p-1 text-neutral-500 hover:text-primary transition-colors edit-prompt-btn" data-id="prompt-1">
                      <i class="fa-solid fa-pencil"></i>
                    </button>
                    <button class="p-1 text-neutral-500 hover:text-red-500 transition-colors delete-prompt-btn" data-id="prompt-1">
                      <i class="fa-solid fa-trash"></i>
                    </button>
                  </div>
                </div>
                <p class="text-neutral-600 mb-3 line-clamp-2">Summarize the following article into a concise paragraph while retaining key points and main ideas.</p>
                <div class="flex justify-between items-center text-xs text-neutral-500">
                  <span>Created: May 10, 2023</span>
                  <span class="bg-primary/10 text-primary px-2 py-1 rounded-full">General</span>
                </div>
              </div>
              
              <!-- More prompt items... -->
            </div>
          </div>
        </div>
        
        <!-- History View -->
        <div id="historyView" class="h-full flex flex-col hidden">
          <div class="p-6 bg-white border-b border-neutral-200">
            <div class="flex justify-between items-center mb-4">
              <h3 class="text-xl font-bold">Chat History</h3>
              <button id="clearAllHistoryBtn" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center space-x-1 shadow-md hover:shadow-lg">
                <i class="fa-solid fa-trash"></i>
                <span>Clear All</span>
              </button>
            </div>
            
            <!-- Search Bar -->
            <div class="relative max-w-2xl">
              <input type="text" placeholder="Search conversations..." class="w-full pl-10 pr-4 py-2 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary">
              <i class="fa-solid fa-search absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400"></i>
            </div>
          </div>
          
          <!-- History List -->
          <div class="flex-1 overflow-y-auto p-4 bg-neutral-100">
            <div class="max-w-3xl mx-auto space-y-4">
              <!-- Conversation Item 1 -->
              <div class="bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow cursor-pointer relative group">
                <div class="flex justify-between items-start">
                  <div>
                    <h4 class="font-semibold text-lg">AI Introduction</h4>
                    <p class="text-neutral-600 text-sm mt-1 line-clamp-2">Conversation about artificial intelligence basics and applications.</p>
                  </div>
                  <div class="flex flex-col items-end">
                    <span class="text-xs text-neutral-500">Today 10:00</span>
                    <button class="mt-2 p-1 text-neutral-500 hover:text-red-500 transition-colors delete-history-btn" data-id="conv-1">
                      <i class="fa-solid fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              
              <!-- Conversation Item 2 -->
              <div class="bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow cursor-pointer relative group">
                <div class="flex justify-between items-start">
                  <div>
                    <h4 class="font-semibold text-lg">Spring AI Framework</h4>
                    <p class="text-neutral-600 text-sm mt-1 line-clamp-2">Discussion about Spring AI integration and capabilities.</p>
                  </div>
                  <div class="flex flex-col items-end">
                    <span class="text-xs text-neutral-500">Today 09:30</span>
                    <button class="mt-2 p-1 text-neutral-500 hover:text-red-500 transition-colors delete-history-btn" data-id="conv-2">
                      <i class="fa-solid fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              
              <!-- More conversation items... -->
            </div>
          </div>
        </div>
        
        <!-- Spring AI Management View -->
        <div id="spring-ai" class="h-full flex flex-col hidden">
          <div class="p-6 bg-white border-b border-neutral-200">
            <h3 class="text-xl font-bold">Spring AI Configuration</h3>
          </div>
          
          <!-- Spring AI Configuration -->
          <div class="flex-1 overflow-y-auto p-6 bg-neutral-100">
            <div class="max-w-3xl mx-auto bg-white rounded-lg shadow-md p-6">
              <h4 class="text-lg font-semibold mb-4">Model Configuration</h4>
              
              <div class="space-y-4">
                <div>
                  <label class="block text-sm font-medium text-neutral-700 mb-1">AI Provider</label>
                  <select class="w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary">
                    <option>OpenAI</option>
                    <option>Hugging Face</option>
                    <option>Azure AI</option>
                    <option>Custom</option>
                  </select>
                </div>
                
                <div>
                  <label class="block text-sm font-medium text-neutral-700 mb-1">API Key</label>
                  <input type="password" class="w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary" placeholder="Enter your API key">
                </div>
                
                <div>
                  <label class="block text-sm font-medium text-neutral-700 mb-1">Model Name</label>
                  <select class="w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary">
                    <option>gpt-4</option>
                    <option>gpt-3.5-turbo</option>
                    <option>text-davinci-003</option>
                    <option>text-curie-001</option>
                  </select>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-neutral-700 mb-1">Temperature</label>
                    <input type="number" step="0.1" min="0" max="2" value="0.7" class="w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-neutral-700 mb-1">Max Tokens</label>
                    <input type="number" value="1024" class="w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary">
                  </div>
                </div>
                
                <div class="pt-4">
                  <button class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors flex items-center space-x-1 shadow-md hover:shadow-lg">
                    <i class="fa-solid fa-save"></i>
                    <span>Save Configuration</span>
                  </button>
                </div>
              </div>
            </div>
            
            <div class="max-w-3xl mx-auto bg-white rounded-lg shadow-md p-6 mt-6">
              <h4 class="text-lg font-semibold mb-4">Prompt Templates</h4>
              
              <div class="space-y-4">
                <div class="border border-neutral-200 rounded-lg p-4">
                  <div class="flex justify-between items-center mb-3">
                    <h5 class="font-medium">General Chat</h5>
                    <div class="flex space-x-1">
                      <button class="p-1 text-neutral-500 hover:text-primary transition-colors">
                        <i class="fa-solid fa-pencil"></i>
                      </button>
                      <button class="p-1 text-neutral-500 hover:text-red-500 transition-colors">
                        <i class="fa-solid fa-trash"></i>
                      </button>
                    </div>
                  </div>
                  <textarea rows="3" class="w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary" readonly>{"role":"system","content":"You are a helpful, creative, accurate, and harmless AI assistant."}</textarea>
                </div>
                
                <div class="border border-neutral-200 rounded-lg p-4">
                  <div class="flex justify-between items-center mb-3">
                    <h5 class="font-medium">Code Generation</h5>
                    <div class="flex space-x-1">
                      <button class="p-1 text-neutral-500 hover:text-primary transition-colors">
                        <i class="fa-solid fa-pencil"></i>
                      </button>
                      <button class="p-1 text-neutral-500 hover:text-red-500 transition-colors">
                        <i class="fa-solid fa-trash"></i>
                      </button>
                    </div>
                  </div>
                  <textarea rows="3" class="w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary" readonly>{"role":"system","content":"You are a professional software developer. Write clean, efficient, and well-documented code. Use best practices and provide explanations where necessary."}</textarea>
                </div>
                
                <button class="mt-2 bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors flex items-center space-x-1 shadow-md hover:shadow-lg">
                  <i class="fa-solid fa-plus"></i>
                  <span>Add New Template</span>
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Settings View (Placeholder) -->
        <div id="settingsView" class="h-full flex items-center justify-center bg-neutral-100 hidden">
          <div class="text-center">
            <i class="fa-solid fa-cog text-6xl text-neutral-300 mb-4"></i>
            <h3 class="text-xl font-semibold text-neutral-600">Settings</h3>
            <p class="text-neutral-500 mt-2">Customize your AI Chat experience here.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- New Prompt Modal -->
  <div id="newPromptModal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center hidden">
    <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col">
      <div class="p-4 border-b border-neutral-200 flex justify-between items-center">
        <h3 class="text-lg font-semibold" id="modalTitle">New GenAI Prompt</h3>
        <button id="closeModal" class="p-2 hover:bg-neutral-200 rounded-full transition-colors">
          <i class="fa-solid fa-times"></i>
        </button>
      </div>
      <div class="flex-1 overflow-y-auto p-4">
        <form id="promptForm">
          <div class="mb-4">
            <label class="block text-sm font-medium text-neutral-700 mb-1">Title</label>
            <input type="text" id="promptTitle" class="w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary" placeholder="Enter prompt title">
          </div>
          <div class="mb-4">
            <label class="block text-sm font-medium text-neutral-700 mb-1">Description</label>
            <textarea id="promptDescription" rows="3" class="w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary" placeholder="Briefly describe the purpose of this prompt"></textarea>
          </div>
          <div class="mb-4">
            <label class="block text-sm font-medium text-neutral-700 mb-1">Prompt Text</label>
            <textarea id="promptText" rows="6" class="w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary" placeholder="Type your prompt here..."></textarea>
          </div>
          <div class="mb-4">
            <label class="block text-sm font-medium text-neutral-700 mb-1">Category</label>
            <select id="promptCategory" class="w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary">
              <option>General</option>
              <option>Coding</option>
              <option>Education</option>
              <option>Translation</option>
              <option>Creative Writing</option>
              <option>Other</option>
            </select>
          </div>
        </form>
      </div>
      <div class="p-4 border-t border-neutral-200 flex justify-end space-x-3">
        <button id="cancelPromptBtn" class="px-4 py-2 border border-neutral-300 rounded-md hover:bg-neutral-100 transition-colors">
          Cancel
        </button>
        <button id="savePromptBtn" class="px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors">
          Save Prompt
        </button>
      </div>
    </div>
  </div>

  <script>
    // DOM Elements
    const toggleSidebarBtn = document.getElementById('toggleSidebar');
    const sidebar = document.getElementById('sidebar');
    const mainContent = document.getElementById('mainContent');
    const pageTitle = document.getElementById('pageTitle');
    const messageInput = document.getElementById('messageInput');
    const sendMessageBtn = document.getElementById('sendMessage');
    const clearHistoryBtn = document.getElementById('clearHistory');
    const chatContainer = document.getElementById('chatContainer');
    const newPromptModal = document.getElementById('newPromptModal');
    const addPromptBtn = document.getElementById('addPromptBtn');
    const closeModalBtn = document.getElementById('closeModal');
    const cancelPromptBtn = document.getElementById('cancelPromptBtn');
    const savePromptBtn = document.getElementById('savePromptBtn');
    const modalTitle = document.getElementById('modalTitle');
    const clearAllHistoryBtn = document.getElementById('clearAllHistoryBtn');
    
    // View Containers
    const chatView = document.getElementById('chatView');
    const promptsView = document.getElementById('promptsView');
    const historyView = document.getElementById('historyView');
    const springAIView = document.getElementById('spring-ai');
    const settingsView = document.getElementById('settingsView');
    
    // Initialize App
    document.addEventListener('DOMContentLoaded', function() {
      // Setup navigation links
      const navLinks = document.querySelectorAll('#sidebar a');
      navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          
          // Update active link
          navLinks.forEach(l => l.classList.remove('bg-primary/20', 'text-primary'));
          this.classList.add('bg-primary/20', 'text-primary');
          
          // Show corresponding view
          const target = this.getAttribute('href').substring(1);
          showView(target);
        });
      });
      
      // Mobile sidebar toggle
      toggleSidebarBtn.addEventListener('click', toggleSidebar);
      
      // Chat functionality
      sendMessageBtn.addEventListener('click', sendMessage);
      messageInput.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          sendMessage();
        }
      });
      
      clearHistoryBtn.addEventListener('click', clearChatHistory);
      
      // Prompt management functionality
      addPromptBtn.addEventListener('click', openNewPromptModal);
      closeModalBtn.addEventListener('click', closeNewPromptModal);
      cancelPromptBtn.addEventListener('click', closeNewPromptModal);
      savePromptBtn.addEventListener('click', saveNewPrompt);
      
      // History management
      clearAllHistoryBtn.addEventListener('click', clearAllChatHistory);
      
      // Delete message functionality
      document.addEventListener('click', function(e) {
        if (e.target.closest('.delete-message-btn')) {
          const btn = e.target.closest('.delete-message-btn');
          deleteMessage(btn.getAttribute('data-id'));
        }
      });
      
      // Delete prompt functionality
      document.addEventListener('click', function(e) {
        if (e.target.closest('.delete-prompt-btn')) {
          const btn = e.target.closest('.delete-prompt-btn');
          deletePrompt(btn.getAttribute('data-id'));
        }
      });
      
      // Edit prompt functionality
      document.addEventListener('click', function(e) {
        if (e.target.closest('.edit-prompt-btn')) {
          const btn = e.target.closest('.edit-prompt-btn');
          editPrompt(btn.getAttribute('data-id'));
        }
      });
      
      // Delete conversation history functionality
      document.addEventListener('click', function(e) {
        if (e.target.closest('.delete-history-btn')) {
          const btn = e.target.closest('.delete-history-btn');
          deleteConversation(btn.getAttribute('data-id'));
        }
      });
    });
    
    // Toggle sidebar for mobile
    function toggleSidebar() {
      if (sidebar.classList.contains('w-64')) {
        sidebar.classList.remove('w-64');
        sidebar.classList.add('w-0');
        mainContent.classList.remove('flex-1');
        mainContent.classList.add('w-full');
      } else {
        sidebar.classList.remove('w-0');
        sidebar.classList.add('w-64');
        mainContent.classList.remove('w-full');
        mainContent.classList.add('flex-1');
      }
    }
    
    // Show selected view
    function showView(viewName) {
      // Hide all views
      chatView.classList.add('hidden');
      promptsView.classList.add('hidden');
      historyView.classList.add('hidden');
      springAIView.classList.add('hidden');
      settingsView.classList.add('hidden');
      
      // Show selected view
      switch(viewName) {
        case 'chat':
          chatView.classList.remove('hidden');
          pageTitle.textContent = 'Chat';
          break;
        case 'prompts':
          promptsView.classList.remove('hidden');
          pageTitle.textContent = 'Prompts';
          break;
        case 'history':
          historyView.classList.remove('hidden');
          pageTitle.textContent = 'History';
          break;
        case 'spring-ai':
          springAIView.classList.remove('hidden');
          pageTitle.textContent = 'Spring AI';
          break;
        case 'settings':
          settingsView.classList.remove('hidden');
          pageTitle.textContent = 'Settings';
          break;
      }
    }
    
    // Send message functionality
    function sendMessage() {
      const message = messageInput.value.trim();
      
      if (message === '') return;
      
      // Generate unique ID for message
      const messageId = 'msg-' + Date.now();
      
      // Add user message to chat
      const userMessageHTML = `
        <div class="flex justify-end message-appear">
          <div class="bg-primary text-white rounded-lg shadow-md p-4 max-w-[80%] relative group">
            <p class="leading-relaxed">
              ${message}
            </p>
            <div class="text-xs text-white/70 mt-2 text-right">Just now</div>
            <button class="absolute -left-8 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity p-1 bg-white rounded-full shadow-md text-neutral-500 hover:text-red-500 delete-message-btn" data-id="${messageId}">
              <i class="fa-solid fa-trash"></i>
            </button>
          </div>
        </div>
      `;
      
      chatContainer.insertAdjacentHTML('beforeend', userMessageHTML);
      messageInput.value = '';
      
      // Show typing indicator
      const typingIndicatorHTML = `
        <div class="bg-white rounded-lg shadow-md p-4 message-appear" id="typingIndicator">
          <div class="flex items-start space-x-3">
            <div class="bg-primary/10 rounded-full p-2">
              <i class="fa-solid fa-robot text-primary"></i>
            </div>
            <div>
              <div class="typing-indicator">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>
          </div>
        </div>
      `;
      
      chatContainer.insertAdjacentHTML('beforeend', typingIndicatorHTML);
      chatContainer.scrollTop = chatContainer.scrollHeight;
      
      // Simulate AI response with Spring AI backend
      simulateSpringAIResponse(messageId);
    }
    
    // Simulate Spring AI response
    function simulateSpringAIResponse(userMessageId) {
      // In a real application, this would call a Spring AI backend API
      setTimeout(() => {
        // Remove typing indicator
        const typingIndicator = document.getElementById('typingIndicator');
        if (typingIndicator) {
          typingIndicator.remove();
        }
        
        // Generate AI response
        const aiResponseId = 'msg-' + Date.now();
        const aiResponseHTML = `
          <div class="bg-white rounded-lg shadow-md p-4 message-appear relative group">
            <div class="flex items-start space-x-3">
              <div class="bg-primary/10 rounded-full p-2">
                <i class="fa-solid fa-robot text-primary"></i>
              </div>
              <div>
                <p class="text-neutral-800 leading-relaxed">
                  This response is generated using Spring AI framework. In a real application, this would be generated by your configured AI model. The input message was: "${document.querySelector(`[data-id="${userMessageId}"]`).closest('div').querySelector('p').textContent}"
                </p>
                <div class="text-xs text-neutral-500 mt-2">Just now</div>
              </div>
            </div>
            <button class="absolute -right-8 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity p-1 bg-white rounded-full shadow-md text-neutral-500 hover:text-red-500 delete-message-btn" data-id="${aiResponseId}">
              <i class="fa-solid fa-trash"></i>
            </button>
          </div>
        `;
        
        chatContainer.insertAdjacentHTML('beforeend', aiResponseHTML);
        chatContainer.scrollTop = chatContainer.scrollHeight;
      }, 2000);
    }
    
    // Clear chat history
    function clearChatHistory() {
      antd.message.confirm({
        title: 'Confirm clear chat history?',
        content: 'This action will delete all chat history and cannot be undone.',
        okText: 'Confirm',
        cancelText: 'Cancel',
        onOk() {
          const welcomeMessage = chatContainer.querySelector('.message-appear');
          Array.from(chatContainer.children).forEach(child => {
            if (child !== welcomeMessage) {
              child.remove();
            }
          });
          antd.message.success('Chat history cleared');
        },
        onCancel() {
          antd.message.info('Operation cancelled');
        }
      });
    }
    
    // Clear all chat history
    function clearAllChatHistory() {
      antd.message.confirm({
        title: 'Confirm clear all conversations?',
        content: 'This action will delete all chat conversations and cannot be undone.',
        okText: 'Confirm',
        cancelText: 'Cancel',
        onOk() {
          // In a real application, this would delete all conversations from the database
          const conversationItems = document.querySelectorAll('#historyView .max-w-3xl > div');
          conversationItems.forEach(item => item.remove());
          antd.message.success('All conversations cleared');
        },
        onCancel() {
          antd.message.info('Operation cancelled');
        }
      });
    }
    
    // Delete single message
    function deleteMessage(messageId) {
      const messageElement = document.querySelector(`[data-id="${messageId}"]`).closest('div.flex');
      messageElement.classList.add('opacity-0', 'scale-95');
      messageElement.style.transition = 'opacity 0.3s, transform 0.3s';
      
      setTimeout(() => {
        messageElement.remove();
      }, 300);
    }
    
    // Delete conversation
    function deleteConversation(conversationId) {
      const conversationElement = document.querySelector(`[data-id="${conversationId}"]`).closest('div.bg-white');
      conversationElement.classList.add('opacity-0', 'scale-95');
      conversationElement.style.transition = 'opacity 0.3s, transform 0.3s';
      
      setTimeout(() => {
        conversationElement.remove();
      }, 300);
    }
    
    // Prompt management functions
    function openNewPromptModal() {
      modalTitle.textContent = 'New GenAI Prompt';
      document.getElementById('promptTitle').value = '';
      document.getElementById('promptDescription').value = '';
      document.getElementById('promptText').value = '';
      document.getElementById('promptCategory').value = 'General';
      newPromptModal.classList.remove('hidden');
    }
    
    function closeNewPromptModal() {
      newPromptModal.classList.add('hidden');
    }
    
    function saveNewPrompt() {
      const title = document.getElementById('promptTitle').value.trim();
      const description = document.getElementById('promptDescription').value.trim();
      const text = document.getElementById('promptText').value.trim();
      const category = document.getElementById('promptCategory').value;
      
      if (!title || !text) {
        antd.message.error('Title and Prompt Text are required');
        return;
      }
      
      // In a real application, this would save the prompt to a database
      antd.message.success('Prompt saved successfully');
      closeNewPromptModal();
      
      // Add a new prompt to the list (demo only)
      const promptList = promptsView.querySelector('.max-w-3xl');
      const newPromptHTML = `
        <div class="bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow message-appear relative group">
          <div class="flex justify-between items-start mb-2">
            <h4 class="font-semibold text-lg">${title}</h4>
            <div class="flex space-x-1">
              <button class="p-1 text-neutral-500 hover:text-primary transition-colors edit-prompt-btn" data-id="prompt-${Date.now()}">
                <i class="fa-solid fa-pencil"></i>
              </button>
              <button class="p-1 text-neutral-500 hover:text-red-500 transition-colors delete-prompt-btn" data-id="prompt-${Date.now()}">
                <i class="fa-solid fa-trash"></i>
              </button>
            </div>
          </div>
          <p class="text-neutral-600 mb-3 line-clamp-2">${description}</p>
          <div class="flex justify-between items-center text-xs text-neutral-500">
            <span>Created: Just now</span>
            <span class="bg-primary/10 text-primary px-2 py-1 rounded-full">${category}</span>
          </div>
        </div>
      `;
      
      promptList.insertAdjacentHTML('afterbegin', newPromptHTML);
    }
    
    // Edit prompt
    function editPrompt(promptId) {
      // In a real application, this would load the prompt data from the database
      modalTitle.textContent = 'Edit GenAI Prompt';
      
      // For demo purposes, we'll just open the modal with empty fields
      document.getElementById('promptTitle').value = 'Sample Prompt';
      document.getElementById('promptDescription').value = 'This is a sample prompt for demonstration.';
      document.getElementById('promptText').value = '{"role":"system","content":"You are a helpful AI assistant."}';
      document.getElementById('promptCategory').value = 'General';
      
      newPromptModal.classList.remove('hidden');
    }
    
    // Delete prompt
    function deletePrompt(promptId) {
      antd.message.confirm({
        title: 'Confirm delete prompt?',
        content: 'This action will delete the prompt and cannot be undone.',
        okText: 'Confirm',
        cancelText: 'Cancel',
        onOk() {
          // In a real application, this would delete the prompt from the database
          const promptElement = document.querySelector(`[data-id="${promptId}"]`).closest('div.bg-white');
          promptElement.classList.add('opacity-0', 'scale-95');
          promptElement.style.transition = 'opacity 0.3s, transform 0.3s';
          
          setTimeout(() => {
            promptElement.remove();
          }, 300);
          
          antd.message.success('Prompt deleted successfully');
        },
        onCancel() {
          antd.message.info('Operation cancelled');
        }
      });
    }
  </script>
</body>
</html>
  